{% extends 'base.html' %}
{% load static %}

{% block content %}
<head>
    <link rel='stylesheet' href='{% static 'css/sales.css' %}'>
</head>

<div class='sales-container'>
    <div class='checkout-interface'>
        <div class='search-bar'>
            <label for='barcode'>Search by Barcode:</label>
            <input type='text' id='barcode' placeholder='Enter barcode'>
            <button id='search-btn'>Search</button>
        </div>

        <div class='departments'>
            <h3>Grocery</h3>
            <button class='department-btn' department-id='bakery'>Bakery</button>
            <button class='department-btn' department-id='fruits-vegetables'>Fruits &amp; Vegetables</button>
            <button class='department-btn' department-id='dairy'>Dairy</button>
            <button class='department-btn' department-id='meat-poultry'>Meat &amp; Poultry</button>
        </div>

        <div class='checkout-list'>
            <h3>Checkout</h3>
            <table id='checkout-list-table'>
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id='checkout-items'>
                    <!-- Items will be added here dynamically -->
                </tbody>
            </table>
        </div>
    </div>

    <div class='payment_interface'>
        <div class='transaction-info'>
            <h3>Transaction Info</h3>
            <div class='transaction-info-item'>
                <label for='subtotal'>Subtotal:</label>
                <span id='subtotal'>$0.00</span>
            </div>
            <div class='transaction-info-item'>
                <label for='tax'>Tax (7%):</label>
                <span id='tax'>$0.00</span>
            </div>
            <div class='transaction-info-item'>
                <label for='discount'>Discount Total:</label>
                <span id='discount'>$0.00</span>
            </div>
            <div class='transaction-info-item'>
                <label id='grand-total-label' for='grand-total'>Grand Total:</label>
                <span id='grand-total'>$0.00</span>
            </div>
        </div>

        <div class='payment-options'>
            <div class='payment-btn-container'>
                <button id='pay-btn' class='pay-btn'>Pay</button>
              
                <button class='discount-btn' id='discount-single-item'>Item Discount</button>
               
                <button class='discount-btn' id='discount-rewards-member'>Rewards Member Discount (10%)</button>
                <!-- Other Discounts -->
                <button class='discount-btn' id='discount-employee'>Employee Discount (15%)</button>
                <button class='discount-btn' id='discount-manager'>Manager Comp</button>
            </div>
        </div>
    </div>
</div>


<div id="receiptModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5);">
    <div style="background: white; margin: 15% auto; padding: 20px; width: 300px;">
        <span onclick="closeReceiptModal()" style="float: right; cursor: pointer;">&times;</span>
        <h3>Receipt</h3>
        <div id="receiptContent">
            <div style="text-align: center; margin-bottom: 10px;">
                <h4>Temporry text we need ot update soon</h4>
                <p>Date: <span id="receiptDate"></span></p>
            </div>
            <div id="receiptItems" style="margin: 15px 0;">
             
            </div>
            <div style="border-top: 1px solid #ddd; padding-top: 10px;">
                <p>Subtotal: $<span id="receiptSubtotal">0.00</span></p>
                <p>Tax: $<span id="receiptTax">0.00</span></p>
                <p><strong>Total: $<span id="receiptTotal">0.00</span></strong></p>
            </div>
            <p style="text-align: center; margin-top: 20px;">Thank you for shopping!</p>
        </div>
        <button onclick="window.print()" style="width: 100%; padding: 10px; margin-top: 10px;">Print Receipt</button>
    </div>
</div>

{% block extra_js %}
<script src="{% static 'js/receipt.js' %}"></script>
{% endblock %}

{% endblock %}